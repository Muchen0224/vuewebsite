(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6366f624"],{1799:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination justify-content-center"},[s("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return s("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page==a}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])})),s("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},e=[],n={props:["pagination"],methods:{changePage:function(t){this.$emit("turnPage",t)}}},r=n,c=s("2877"),o=Object(c["a"])(r,i,e,!1,null,null,null);a["a"]=o.exports},"31a1":function(t,a,s){t.exports=s.p+"img/wishBackground.be32b665.jpg"},8589:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t.wishListId[0]?s("div",{attrs:{id:"content"}},[s("div",{staticClass:"route"},[s("div",{staticClass:"container"},[s("router-link",{attrs:{to:"/"}},[t._v("首頁")]),s("span",{staticClass:"routeDivider"},[t._v("/")]),s("span",{staticClass:"current"},[t._v("願望清單")])],1)]),s("div",{staticClass:"container"},[s("div",{staticClass:"wishlist-mobile d-lg-none"},[s("div",{staticClass:"container"},t._l(t.wishList,(function(a){return s("div",{key:a.id,staticClass:"wish"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col-4 px-0"},[s("router-link",{staticClass:"d-block",attrs:{to:{name:"ShopItem",params:{id:a.id}}}},[s("img",{staticClass:"img-fluid",attrs:{src:a.imageUrl,alt:""}})])],1),s("div",{staticClass:"col-8"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("router-link",{attrs:{to:{name:"ShopItem",params:{id:a.id}}}},[t._v(" "+t._s(a.title)+" ")])],1),s("div",{staticClass:"col-12"},[s("span",[t._v(t._s(a.price))]),s("span",[t._v(t._s(a.origin_price))])])])])])]),s("div",{staticClass:"row flex-nowrap"},[s("div",{staticClass:"col-6 pl-0 input-wrap d-flex align-items-center justify-content-start"},[s("div",{staticClass:"reduce",on:{click:function(t){a.num--}}},[s("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{disabled:a.num<=1}},[t._v("-")])]),s("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.num}}),s("div",{staticClass:"add",on:{click:function(t){a.num++}}},[s("button",{staticClass:"btn btn-outline-primary btn-sm"},[t._v("+")])])]),s("div",{staticClass:"col-6 d-flex justify-content-between"},[s("a",{staticClass:"btn btn-primary btn-sm d-flex justify-content-center align-items-center",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addToCart(a.id,a.num)}}},[s("i",{staticClass:"fas fa-cart-arrow-down"})]),s("a",{staticClass:"btn btn-outline-secondary btn-sm d-flex justify-content-center align-items-center",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.removeWishListItem(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])])])})),0)]),s("div",{staticClass:"wishlist d-none d-lg-block mt-5"},[s("table",{staticClass:"table table-bordered text-center"},[t._m(0),s("tbody",t._l(t.wishList,(function(a){return s("tr",{key:a.id},[s("td",{attrs:{scope:"col"}},[s("router-link",{staticClass:"d-block",attrs:{to:{name:"ShopItem",params:{id:a.id}}}},[s("img",{attrs:{src:a.imageUrl,alt:""}})])],1),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"row"},[s("router-link",{attrs:{to:{name:"ShopItem",params:{id:a.id}}}},[s("div",{staticClass:"col-12"},[t._v(t._s(a.title))])])],1)]),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t._v(t._s(t._f("currency")(a.price)))])])]),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"input-wrap d-flex align-items-center justify-content-center"},[s("div",{staticClass:"reduce",on:{click:function(t){a.num--}}},[s("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{disabled:a.num<=1}},[t._v("-")])]),s("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.num}}),s("div",{staticClass:"add",on:{click:function(t){a.num++}}},[s("button",{staticClass:"btn btn-outline-primary btn-sm"},[t._v("+")])])])]),s("td",{attrs:{scope:"col"}},[s("a",{staticClass:"btn btn-primary btn-sm",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addToCart(a.id,a.num)}}},[s("i",{staticClass:"fas fa-cart-arrow-down"})])]),s("td",{attrs:{scope:"col"}},[s("a",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.removeWishListItem(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])})),0)])])])]):s("div",{staticClass:"no-wish"},[s("div",{staticClass:"container position-relative"},[t._m(1),s("div",{staticClass:"text-wrap"},[s("div",{staticClass:"title"},[t._v("目前沒有願望清單喔！")]),s("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:"/shoppage"}},[t._v("馬上購物")])],1)])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("商品圖片")]),s("th",{attrs:{scope:"col"}},[t._v("商品名稱")]),s("th",{attrs:{scope:"col"}},[t._v("價格")]),s("th",{attrs:{scope:"col"}},[t._v("數量")]),s("th",{attrs:{scope:"col"}},[t._v("加入購物車")]),s("th",{attrs:{scope:"col"}},[t._v("刪除")])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"row justify-content-center"},[i("img",{staticClass:"img-fluid col-12",attrs:{src:s("31a1"),alt:""}})])}],n=(s("99af"),s("c740"),s("a434"),s("1799")),r={components:{Pagination:n["a"]},data:function(){return{sideMenu:!1,wishListId:JSON.parse(localStorage.getItem("wishId"))||[],wishList:JSON.parse(localStorage.getItem("wished"))||[],pagination:{},isLoading:!1,cartLength:""}},methods:{addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,i="".concat(Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/vuewebsite/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/vuewebsite/dist/"}).VUE_APP_CUSTOMPATH,"/cart"),e={product_id:t,qty:a};this.$http.post(i,{data:e}).then((function(a){console.log(a,"id",t),s.getCartLength(),s.removeWishListItem(t)}))},removeWishListItem:function(t){var a=this,s=a.wishListId.findIndex((function(a){return a==t}));a.wishListId.splice(s,1),a.wishList.splice(s,1),localStorage.setItem("wished",JSON.stringify(a.wishList)),localStorage.setItem("wishId",JSON.stringify(a.wishListId))},getCartLength:function(){var t=this,a="".concat(Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/vuewebsite/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/vuewebsite/dist/"}).VUE_APP_CUSTOMPATH,"/cart");t.isLoading=!0,this.$http.get(a).then((function(a){t.cartLength=a.data.data.carts.length,t.$bus.$emit("updateCartNum",t.cartLength),t.isLoading=!1}))}},created:function(){var t=this;t.$bus.$on("updateWishList",(function(a,s){console.log(a,s),t.wishList=a,t.wishListId=s})),this.getCartLength()},destroyed:function(){var t=this;t.$bus.$off("updateWishList")}},c=r,o=(s("a64a"),s("2877")),l=Object(o["a"])(c,i,e,!1,null,"1057b324",null);a["default"]=l.exports},"99af":function(t,a,s){"use strict";var i=s("23e7"),e=s("d039"),n=s("e8b5"),r=s("861d"),c=s("7b0b"),o=s("50c4"),l=s("8418"),d=s("65f0"),u=s("1dde"),p=s("b622"),f=s("2d00"),v=p("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",g=f>=51||!e((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=u("concat"),b=function(t){if(!r(t))return!1;var a=t[v];return void 0!==a?!!a:n(t)},C=!g||!_;i({target:"Array",proto:!0,forced:C},{concat:function(t){var a,s,i,e,n,r=c(this),u=d(r,0),p=0;for(a=-1,i=arguments.length;a<i;a++)if(n=-1===a?r:arguments[a],b(n)){if(e=o(n.length),p+e>h)throw TypeError(m);for(s=0;s<e;s++,p++)s in n&&l(u,p,n[s])}else{if(p>=h)throw TypeError(m);l(u,p++,n)}return u.length=p,u}})},a434:function(t,a,s){"use strict";var i=s("23e7"),e=s("23cb"),n=s("a691"),r=s("50c4"),c=s("7b0b"),o=s("65f0"),l=s("8418"),d=s("1dde"),u=s("ae40"),p=d("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,h=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,a){var s,i,d,u,p,f,_=c(this),b=r(_.length),C=e(t,b),w=arguments.length;if(0===w?s=i=0:1===w?(s=0,i=b-C):(s=w-2,i=h(v(n(a),0),b-C)),b+s-i>m)throw TypeError(g);for(d=o(_,i),u=0;u<i;u++)p=C+u,p in _&&l(d,u,_[p]);if(d.length=i,s<i){for(u=C;u<b-i;u++)p=u+i,f=u+s,p in _?_[f]=_[p]:delete _[f];for(u=b;u>b-i+s;u--)delete _[u-1]}else if(s>i)for(u=b-i;u>C;u--)p=u+i-1,f=u+s-1,p in _?_[f]=_[p]:delete _[f];for(u=0;u<s;u++)_[u+C]=arguments[u+2];return _.length=b-i+s,d}})},a64a:function(t,a,s){"use strict";var i=s("fb09"),e=s.n(i);e.a},c740:function(t,a,s){"use strict";var i=s("23e7"),e=s("b727").findIndex,n=s("44d2"),r=s("ae40"),c="findIndex",o=!0,l=r(c);c in[]&&Array(1)[c]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!l},{findIndex:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),n(c)},fb09:function(t,a,s){}}]);
//# sourceMappingURL=chunk-6366f624.8f3a7598.js.map