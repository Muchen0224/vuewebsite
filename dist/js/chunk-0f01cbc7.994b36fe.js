(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f01cbc7"],{2355:function(t,a,s){"use strict";s.r(a);var c=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),0!==t.cart.total?s("div",{attrs:{id:"content"}},[s("div",{staticClass:"route"},[s("div",{staticClass:"container"},[s("router-link",{attrs:{to:"/"}},[t._v("首頁")]),s("span",{staticClass:"routeDivider"},[t._v("/")]),s("span",{staticClass:"current"},[t._v("購物車")])],1)]),s("div",{staticClass:"cart-products"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[t._l(t.cart.carts,(function(a){return s("div",{key:a.id,staticClass:"col-12 mb-5 border-bottom my-2 d-lg-none"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-4 pr-0"},[s("a",{staticClass:"d-block",attrs:{href:"#"}},[s("img",{staticClass:"img-fluid",attrs:{src:a.product.imageUrl,alt:""}})])]),s("div",{staticClass:"col-8 d-flex text-right justify-content-end align-items-center"},[s("a",{staticClass:"btn btn-outline-danger btn-lg d-flex",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.removeCartItem(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-7 pr-0"},[s("a",{staticClass:"d-block text-black",attrs:{href:"#"}},[s("div",{staticClass:"product-text"},[t._v(t._s(a.product.title))])])]),s("div",{staticClass:"col-5 text-right font-weight-bold"},[s("div",[t._v("X"+t._s(a.qty))]),s("div",{class:{"line-through":a.total!==a.final_total}},[t._v(t._s(t._f("currency")(a.total)))])])]),s("div",{staticClass:"row mb-3"},[a.coupon?s("div",{staticClass:"col-7 pr-0 text-success"},[t._v("已套用優惠券")]):t._e(),a.coupon?s("div",{staticClass:"col-5 text-right font-weight-bold text-success"},[t._v(t._s(t._f("currency")(a.final_total)))]):t._e()])])])})),s("div",{staticClass:"col-12 row mb-5 d-none d-lg-block lg-show"},[s("div",{staticClass:"table-wrap"},[s("table",{staticClass:"table table-bordered text-center"},[t._m(0),s("tbody",t._l(t.cart.carts,(function(a){return s("tr",{key:a.id},[s("td",{attrs:{scope:"col"}},[s("a",{staticClass:"d-block",attrs:{href:"#"}},[s("img",{attrs:{src:a.product.imageUrl,alt:""}})])]),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t._v(t._s(a.product.title))]),a.total!==a.final_total?s("div",{staticClass:"col-12 text-success"},[t._v("已套用優惠券")]):t._e()])]),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12",class:{"line-through":a.total!==a.final_total}},[t._v(t._s(t._f("currency")(a.product.price)))]),a.total!==a.final_total?s("div",{staticClass:"col-12 text-success"},[t._v(t._s(t._f("currency")(""+a.final_total/a.qty)))]):t._e()])]),s("td",{attrs:{scope:"col"}},[t._v(t._s(a.qty))]),s("td",{attrs:{scope:"col"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12",class:{"line-through":a.total!==a.final_total}},[t._v(t._s(t._f("currency")(a.total)))]),a.total!==a.final_total?s("div",{staticClass:"col-12 text-success"},[t._v(t._s(t._f("currency")(a.final_total)))]):t._e()])]),s("td",{attrs:{scope:"col"}},[s("a",{staticClass:"btn btn-outline-danger btn-sm",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.removeCartItem(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])})),0)])])])],2)])]),s("div",{staticClass:"coupon-gocheck"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-lg-6 refresh"},[s("div",{staticClass:"container mb-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-6 mb-3"},[s("a",{staticClass:"btn btn-primary btn-sm btn-block btn-set text-white",on:{click:function(a){return a.preventDefault(),t.getCart(a)}}},[t._v("更新購物車列表")])]),s("div",{staticClass:"col-12 col-md-6"},[s("router-link",{staticClass:"btn btn-outline-primary btn-sm btn-block btn-set",attrs:{to:"/shoppage"}},[t._v("繼續購物")])],1)])]),s("div",{staticClass:"row coupon"},[t._m(1),s("div",{staticClass:"col-12 col-lg-8 mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control py-3",attrs:{type:"text",id:"coupon",placeholder:"請輸入優惠券代碼"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}})]),s("div",{staticClass:"col-12 col-lg-4"},[s("button",{staticClass:"btn btn-primary btn-sm button-height",on:{click:function(a){return a.preventDefault(),t.addCouponCode(a)}}},[t._v("套用優惠券")])])])]),s("div",{staticClass:"col-12 col-md-6 pl-lg-5 pay-info"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-end"},[s("div",{staticClass:"col-12 col-lg-8"},[t._m(2),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-6 subtitle"},[t._v("訂單金額")]),s("div",{staticClass:"col-6 text-right price"},[t._v(t._s(t.cart.total))])]),s("div",{staticClass:"row mb-4"},[t.cart.final_total!==t.cart.total?s("div",{staticClass:"col-6 text-success subtitle"},[t._v("折後訂單金額")]):t._e(),t.cart.final_total!==t.cart.total?s("div",{staticClass:"col-6 text-right price text-success"},[t._v(t._s(t._f("priceFloor")(t.cart.final_total)))]):t._e()]),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"container"},[s("div",{staticClass:"col-12"},[s("router-link",{staticClass:"btn btn-primary btn-lg btn-block py-3",attrs:{to:"/checkout"}},[t._v("前往結帳")])],1)])])])])])])])])])]):s("div",{staticClass:"no-wish"},[s("div",{staticClass:"container position-relative"},[t._m(3),s("div",{staticClass:"text-wrap"},[s("div",{staticClass:"title"},[t._v("目前購物車沒有商品喔！")]),s("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:"/shoppage"}},[t._v("馬上購物")])],1)])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("商品圖片")]),s("th",{attrs:{scope:"col"}},[t._v("商品名稱")]),s("th",{attrs:{scope:"col"}},[t._v("價格")]),s("th",{attrs:{scope:"col"}},[t._v("數量")]),s("th",{attrs:{scope:"col"}},[t._v("總金額")]),s("th",{attrs:{scope:"col"}},[t._v("刪除")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-12"},[s("label",{staticClass:"coupon-title",attrs:{for:"coupon"}},[t._v("優惠券")]),s("p",[t._v("如果您有優惠券，請在下方輸入優惠券代碼")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-right border-bottom mb-4 pb-2 title"},[t._v("付款資訊")])])},function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",{staticClass:"row justify-content-center"},[c("img",{staticClass:"img-fluid col-12",attrs:{src:s("31a1"),alt:""}})])}],o=(s("99af"),{components:{},data:function(){return{sideMenu:!1,cart:[],pagination:{},isLoading:!1,coupon_code:"",cartLength:""}},methods:{getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("muchen","/cart");t.isLoading=!0,t.$http.get(a).then((function(a){t.cart=a.data.data,t.isLoading=!1}))},getCartLength:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("muchen","/cart");t.isLoading=!0,t.$http.get(a).then((function(a){t.cartLength=a.data.data.carts.length,t.$bus.$emit("updateCartNum",t.cartLength),t.isLoading=!1}))},removeCartItem:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("muchen","/cart/").concat(t);a.isLoading=!0,a.$http.delete(s).then((function(t){a.getCart(),a.getCartLength(),a.isLoading=!1}))},addCouponCode:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("muchen","/coupon"),s={code:t.coupon_code};t.isLoading=!0,t.$http.post(a,{data:s}).then((function(a){t.isLoading=!1,t.getCart()}))}},created:function(){this.getCart(),this.getCartLength()},mounted:function(){window.scrollTo(0,0)}}),e=o,n=(s("79c4"),s("2877")),r=Object(n["a"])(e,c,i,!1,null,"7aac779a",null);a["default"]=r.exports},"31a1":function(t,a,s){t.exports=s.p+"img/wishBackground.be32b665.jpg"},"79c4":function(t,a,s){"use strict";var c=s("db36"),i=s.n(c);i.a},"99af":function(t,a,s){"use strict";var c=s("23e7"),i=s("d039"),o=s("e8b5"),e=s("861d"),n=s("7b0b"),r=s("50c4"),l=s("8418"),d=s("65f0"),u=s("1dde"),v=s("b622"),p=s("2d00"),C=v("isConcatSpreadable"),f=9007199254740991,_="Maximum allowed index exceeded",h=p>=51||!i((function(){var t=[];return t[C]=!1,t.concat()[0]!==t})),b=u("concat"),g=function(t){if(!e(t))return!1;var a=t[C];return void 0!==a?!!a:o(t)},m=!h||!b;c({target:"Array",proto:!0,forced:m},{concat:function(t){var a,s,c,i,o,e=n(this),u=d(e,0),v=0;for(a=-1,c=arguments.length;a<c;a++)if(o=-1===a?e:arguments[a],g(o)){if(i=r(o.length),v+i>f)throw TypeError(_);for(s=0;s<i;s++,v++)s in o&&l(u,v,o[s])}else{if(v>=f)throw TypeError(_);l(u,v++,o)}return u.length=v,u}})},db36:function(t,a,s){}}]);
//# sourceMappingURL=chunk-0f01cbc7.994b36fe.js.map